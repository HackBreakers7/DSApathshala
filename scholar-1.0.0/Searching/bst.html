<!DOCTYPE html>
<html lang="en">

  <head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link href="../https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

	<title>DSAPathshala</title>

	<!-- Bootstrap core CSS -->
	<link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">


	<!-- Additional CSS Files -->
	<link rel="stylesheet" href="../assets/css/fontawesome.css">
	<link rel="stylesheet" href="../assets/css/templatemo-scholar.css">
	<link rel="stylesheet" href="../assets/css/owl.css">
	<link rel="stylesheet" href="../assets/css/animate.css">
	<link rel="stylesheet"href="../https://unpkg.com/swiper@7/swiper-bundle.min.css"/>
<!--

TemplateMo 586 Scholar

https://templatemo.com/tm-586-scholar

-->
<style>
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Arial', sans-serif;
    background-color: #ffffff;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    color: #333;
	
}

h1 {
    color: #6704a4;
    text-align: center;
    margin: 20px 0;
	
}

/* Button Styles */
button {
    margin: 5px;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    background-color: #7B6AD8;
    color: #fff;
    cursor: pointer;
    font-size: 16px;
    font-weight: bold;
    transition: background-color 0.3s;
}

button:hover {
    background-color: #5b029a;
}

button:disabled {
    background-color: #bdc3c7;
    cursor: not-allowed;
}
.controls, .traversals {
    margin: 15px;
    margin-left:400px;
}

input[type="text"] {
    padding: 10px;
    width: 200px;
    font-size: 14px;
}

#tree-container {
    position: relative;
    margin-top: 20px;
    margin-left:300px;
    padding: 10px;
    
    border-radius: 5px;
    display: flex;
    justify-content: center;
}

.tree-node {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 40px;
    height: 40px;
    border: 2px solid #0a8897 ;
    border-radius: 50%;
    background-color:#0a8897 ;
    font-weight: bold;
    color: #ffffff ;
    position: absolute;
    transform: translate(-50%, -50%);
}

.tree-edge {
    position: absolute;
    width: 3px;
    background-color: #1731ef ;
    transform-origin: top;
}

#output-container {
    margin-top: 20px;
    margin-left:1000px;
    font-size: 18px;
    color:#ff1c0e ;
    font-variant: normal;
}

/* Button Container */
.button-container {
    display: flex;
    justify-content: center;
    gap: 10px;
    flex-wrap: wrap;
    margin: 20px auto;
}


/* Header Area */
.header-area {
    position: sticky;
    top: 0;
    z-index: 1000;
    background-color: #6A5ACD; /* Soft purple shade */
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
	
}

.header-area .logo h1 {
    font-size: 24px;
    color: white;
    font-weight: bold;
    text-transform: uppercase;
    margin-left: 15px;
    display: inline-block;
}

/* Main Navigation */
.main-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
	
}

.search-input input {
    padding: 8px 20px;
    border: none;
    border-radius: 20px;
    outline: none;
    font-size: 14px;
    color: #333;
    background-color: white;
    transition: 0.3s ease;
}

.search-input input:focus {
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.2);
}

.search-input i {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    color: #999;
    cursor: pointer;
    display: inline-block;
}


/* Sidebar */
.sidebar {
    margin-top: 100px;
    position: fixed;
    top: 0;
    left: 0;
    width: 12%;
    height: 100%;
    background-color: #584b9e;
    color: white;
    padding-top: 20px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.sidebar a {
    color: white;
    text-decoration: none;
    font-size: 16px;
    padding: 10px 20px;
    transition: 0.3s;
}

.sidebar a:hover {
    background-color: #7B6AD8;
}


/* Footer */
.footer {
    margin-top: auto;
    background-color: #7B6AD8;
    color: white;
    text-align: center;
    padding: 8px;
}


</style>
</head>
<body>


<!-- Header Section -->
<header class="header-area">
  <div class="main-nav">
    <!-- Logo -->
    <a href="index.html" class="logo">
      <h1>DSAPathshala</h1>
    </a>
    
    <!-- Search Bar -->
    <div class="search-input">
      <form id="search" action="#">
        <input type="text" placeholder="Type Something" id="searchText" name="searchKeyword">
        <i class="fa fa-search"></i>
      </form>
    </div>
    
    <!-- Sidebar Menu -->
    <div class="sidebar">
      <a href="./linear_search.html">Linear Search</a>
      <a href="./binary_search.html">Binary Search</a>
      <a href="./jump_search.html">Jump search</a>
      <a href="./bfs_search.html">Breadth First Search</a>
      <a href="./bst.html">Binary Search Tree</a>
      <a href="./dfs.html">Depth First Search</a>
    </div>
    
    <!-- Navigation Links -->
    <ul class="nav">
      <li><a href="../index.html" class="active">Home</a></li>
      <li><a href="../code.html">Code Editor</a></li>
      <li><a href="../sign-in.html">Sign-In</a></li>
      <li><a href="../sign-up.html">Sign-Up</a></li>
    </ul>
  </div>
</header>


<!-- main content -->
<h1>Binary Search Tree Visualization</h1>
<div class="controls">
    <input type="text" id="node-value" placeholder="Enter node value">
    <button id="insert-node">Insert Node</button>
    <button id="clear-tree">Clear Tree</button>
</div>
<div class="traversals">
    <button id="inorder-btn">Inorder Traversal</button>
    <button id="preorder-btn">Preorder Traversal</button>
    <button id="postorder-btn">Postorder Traversal</button>
</div>
<div id="tree-container"></div>
<div id="output-container"></div>





<!-- Footer -->
<div class="footer">
  <p>Made with <i class="fas fa-heart"></i> by HackBreakers!</p>
</div>

<script>
class Node {
    constructor(value) {
        this.value = value;
        this.left = null;
        this.right = null;
    }
}

class BST {
    constructor() {
        this.root = null;
    }

    insert(value) {
        const newNode = new Node(value);
        if (!this.root) {
            this.root = newNode;
            return;
        }
        let current = this.root;
        while (true) {
            if (value < current.value) {
                if (!current.left) {
                    current.left = newNode;
                    return;
                }
                current = current.left;
            } else {
                if (!current.right) {
                    current.right = newNode;
                    return;
                }
                current = current.right;
            }
        }
    }

    inorder(node, result = []) {
        if (node) {
            this.inorder(node.left, result);
            result.push(node.value);
            this.inorder(node.right, result);
        }
        return result;
    }

    preorder(node, result = []) {
        if (node) {
            result.push(node.value);
            this.preorder(node.left, result);
            this.preorder(node.right, result);
        }
        return result;
    }

    postorder(node, result = []) {
        if (node) {
            this.postorder(node.left, result);
            this.postorder(node.right, result);
            result.push(node.value);
        }
        return result;
    }
}

const nodeValueInput = document.getElementById('node-value');
const insertNodeButton = document.getElementById('insert-node');
const clearTreeButton = document.getElementById('clear-tree');
const inorderButton = document.getElementById('inorder-btn');
const preorderButton = document.getElementById('preorder-btn');
const postorderButton = document.getElementById('postorder-btn');
const treeContainer = document.getElementById('tree-container');
const outputContainer = document.getElementById('output-container');

const bst = new BST();

function visualizeTree(node, container, x = 300, y = 30, dx = 150) {
    if (!node) return;
    const nodeElement = document.createElement('div');
    nodeElement.className = 'tree-node';
    nodeElement.textContent = node.value;
    nodeElement.style.left = `${x}px`;
    nodeElement.style.top = `${y}px`;

    container.appendChild(nodeElement);

    if (node.left) {
        const leftX = x - dx;
        const leftY = y + 60;
        drawEdge(container, x, y, leftX, leftY);
        visualizeTree(node.left, container, leftX, leftY, dx / 1.5);
    }

    if (node.right) {
        const rightX = x + dx;
        const rightY = y + 60;
        drawEdge(container, x, y, rightX, rightY);
        visualizeTree(node.right, container, rightX, rightY, dx / 1.5);
    }
}
function drawEdge(container, x1, y1, x2, y2) {
    const edge = document.createElement('div');
    edge.className = 'tree-edge';

    const nodeRadius = 20; // Radius of the circular nodes (half the node's width/height)
    const dx = x2 - x1;
    const dy = y2 - y1;
    const angle = Math.atan2(dy, dx);

    // Calculate start and end points for the edge adjusted for the node radius
    const adjustedX1 = x1 + nodeRadius * Math.cos(angle);
    const adjustedY1 = y1 + nodeRadius * Math.sin(angle);
    const adjustedX2 = x2 - nodeRadius * Math.cos(angle);
    const adjustedY2 = y2 - nodeRadius * Math.sin(angle);

    // Calculate the length of the edge
    const length = Math.sqrt((adjustedX2 - adjustedX1) ** 2 + (adjustedY2 - adjustedY1) ** 2);

    // Position the edge at the start point and rotate it to align with the target
    edge.style.width = `${length}px`;
    edge.style.height = `2px`; // Thickness of the line
    edge.style.position = 'absolute';
    edge.style.left = `${adjustedX1}px`;
    edge.style.top = `${adjustedY1}px`;
    edge.style.backgroundColor = '#4CAF50';
    edge.style.transformOrigin = '0 0'; // Rotate around the top-left corner
    edge.style.transform = `rotate(${angle * (180 / Math.PI)}deg)`; // Convert radians to degrees

    container.appendChild(edge);
}

insertNodeButton.addEventListener('click', () => {
    const value = parseInt(nodeValueInput.value);
    if (!isNaN(value)) {
        bst.insert(value);
        nodeValueInput.value = '';
        treeContainer.innerHTML = '';
        visualizeTree(bst.root, treeContainer);
    }
});

clearTreeButton.addEventListener('click', () => {
    bst.root = null;
    treeContainer.innerHTML = '';
    outputContainer.textContent = '';
});

inorderButton.addEventListener('click', () => {
    const result = bst.inorder(bst.root);
    outputContainer.textContent = `Inorder Traversal Left->Root->Right: ${result.join(', ')}`;
});

preorderButton.addEventListener('click', () => {
    const result = bst.preorder(bst.root);
    outputContainer.textContent = `Preorder Traversal Root->Left->Right: ${result.join(', ')}`;
});

postorderButton.addEventListener('click', () => {
    const result = bst.postorder(bst.root);
    outputContainer.textContent = `Postorder Traversal Left->Root->Right: ${result.join(', ')}`;
});
</script>
</body>

<!-- Scripts -->
<!-- Bootstrap core JavaScript -->
<script src="../vendor/jquery/jquery.min.js"></script>
<script src="../vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="../assets/js/isotope.min.js"></script>
<script src="../assets/js/owl-carousel.js"></script>
<script src="../assets/js/counter.js"></script>
<script src="../assets/js/custom.js"></script>
</html>